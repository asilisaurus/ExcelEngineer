# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–ª–±—Ü–∞ "–¢–µ–º–∞"

## üö® **–ü—Ä–æ–±–ª–µ–º–∞**

–°—Ç–æ–ª–±–µ—Ü "–¢–µ–º–∞" –¥—É–±–ª–∏—Ä–æ–≤–∞–ª –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è", –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫—Ä–∞—Ç–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏.

**–ë—ã–ª–æ:**
- –¢–µ–º–∞: "–ò–Ω–æ–≥–¥–∞ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ, –æ –∫–∞–∫–æ–π –¥–æ–∑–∏—Ä–æ–≤–∫–µ —Ä–µ—á—å. –ò —ç—Ç–æ —Ä–µ—Ü–µ–ø—Ç—É—Ä–Ω—ã–π –ø—Ä–µ–ø–∞—Ä–∞—Ç..."
- –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è: "–ò–Ω–æ–≥–¥–∞ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ, –æ –∫–∞–∫–æ–π –¥–æ–∑–∏—Ä–æ–≤–∫–µ —Ä–µ—á—å. –ò —ç—Ç–æ —Ä–µ—Ü–µ–ø—Ç—É—Ä–Ω—ã–π –ø—Ä–µ–ø–∞—Ä–∞—Ç..."

**–°—Ç–∞–ª–æ:**
- –¢–µ–º–∞: "–í–æ–ø—Ä–æ—Å –æ –¥–æ–∑–∏—Ä–æ–≤–∫–µ –§–æ—Ä—Ç–µ–¥–µ—Ç—Ä–∏–º"
- –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è: "–ò–Ω–æ–≥–¥–∞ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ, –æ –∫–∞–∫–æ–π –¥–æ–∑–∏—Ä–æ–≤–∫–µ —Ä–µ—á—å. –ò —ç—Ç–æ —Ä–µ—Ü–µ–ø—Ç—É—Ä–Ω—ã–π –ø—Ä–µ–ø–∞—Ä–∞—Ç..."

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ**

### 1. –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–º—ã

```typescript
// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –û—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ –≤ –¥–∞–Ω–Ω—ã—Ö
if (themeColumn >= 0 && row[themeColumn]) {
  —Ç–µ–º–∞ = this.getCleanValue(row[themeColumn]);
}

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ —Ç–µ–∫—Å—Ç–∞
if (!—Ç–µ–º–∞ || —Ç–µ–º–∞.length < 5) {
  —Ç–µ–º–∞ = this.extractTheme(—Ç–µ–∫—Å—Ç);
}
```

### 2. –£–º–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–º—ã

#### A. –ü–æ–∏—Å–∫ —è–≤–Ω—ã—Ö —É–∫–∞–∑–∞–Ω–∏–π
```typescript
const themePatterns = [
  /(?:–ù–∞–∑–≤–∞–Ω–∏–µ|–ó–∞–≥–æ–ª–æ–≤–æ–∫|–¢–µ–º–∞|–°—É—Ç—å|–ü—Ä–æ–±–ª–µ–º–∞|–í–æ–ø—Ä–æ—Å):\s*([^.!?]*)/i,
  /^([^.!?]{15,80}?)(?:\.|!|\?|$)/,  // –ü–µ—Ä–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
  /^(.{15,80}?)(?:\s*[-‚Äì‚Äî]\s*|\s*\.\s*)/,  // –î–æ —Ç–∏—Ä–µ
];
```

#### B. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
```typescript
const themeTemplates = [
  { pattern: /(?:–ø–æ–º–æ–≥–∞–µ—Ç|—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω|—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)/, prefix: '–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–∑—ã–≤: ' },
  { pattern: /(?:–Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç|–±–µ—Å–ø–æ–ª–µ–∑–Ω|–ø–ª–æ—Ö–æ)/, prefix: '–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ç–∑—ã–≤: ' },
  { pattern: /(?:–≤–æ–ø—Ä–æ—Å|–∫–∞–∫|–≥–¥–µ|–∫–æ–≥–¥–∞)/, prefix: '–í–æ–ø—Ä–æ—Å: ' },
  { pattern: /(?:–ø–æ–±–æ—á–Ω—ã–µ|–∞–ª–ª–µ—Ä–≥–∏—è|—Ä–µ–∞–∫—Ü–∏—è)/, prefix: '–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã: ' },
  { pattern: /(?:–¥–æ–∑–∏—Ä–æ–≤–∫–∞|–∫–∞–∫ –ø—Ä–∏–Ω–∏–º–∞—Ç—å)/, prefix: '–î–æ–∑–∏—Ä–æ–≤–∫–∞: ' },
  { pattern: /(?:—Ä–µ–∑—É–ª—å—Ç–∞—Ç|—ç—Ñ—Ñ–µ–∫—Ç|–∏–∑–º–µ–Ω–µ–Ω–∏—è)/, prefix: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã: ' }
];
```

#### C. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
```typescript
const productKeywords = [
  '—Ñ–æ—Ä—Ç–µ–¥–µ—Ç—Ä–∏–º', '—Ñ–æ—Ä—Ç–µ', '–¥–µ—Ç—Ä–∏–º', '–∞–∫–≤–∞–¥–µ—Ç—Ä–∏–º', '–≤–∏—Ç–∞–º–∏–Ω –¥'
];
const healthKeywords = [
  '–≤–∏—Ç–∞–º–∏–Ω', '–ø—Ä–µ–ø–∞—Ä–∞—Ç', '–ª–µ—á–µ–Ω–∏–µ', '–∑–¥–æ—Ä–æ–≤—å–µ', '–¥–æ–∑–∏—Ä–æ–≤–∫–∞'
];
```

#### D. –£–º–Ω—ã–π fallback
```typescript
private createSmartFallback(text: string): string {
  // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 6-8 —Å–ª–æ–≤, –Ω–æ –Ω–µ –±–æ–ª–µ–µ 60 —Å–∏–º–≤–æ–ª–æ–≤
  const words = text.split(' ');
  let result = '';
  
  for (let i = 0; i < Math.min(words.length, 8); i++) {
    const nextWord = words[i];
    if (result.length + nextWord.length + 1 <= 60) {
      result += (result ? ' ' : '') + nextWord;
    } else {
      break;
    }
  }
  
  return result.length > 15 ? result + '...' : '';
}
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**

### –ü—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–Ω—ã—Ö —Ç–µ–º:

1. **–í–æ–ø—Ä–æ—Å –æ –¥–æ–∑–∏—Ä–æ–≤–∫–µ**: "–ò–Ω–æ–≥–¥–∞ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ, –æ –∫–∞–∫–æ–π –¥–æ–∑–∏—Ä–æ–≤–∫–µ —Ä–µ—á—å..."
   - **–ë—ã–ª–æ**: –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç
   - **–°—Ç–∞–ª–æ**: "–í–æ–ø—Ä–æ—Å: –¥–æ–∑–∏—Ä–æ–≤–∫–µ —Ä–µ—á—å"

2. **–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–∑—ã–≤**: "–†–µ–∫–æ–º–µ–Ω–¥—É—é —ç—Ç–æ—Ç –ø—Ä–µ–ø–∞—Ä–∞—Ç, –æ—á–µ–Ω—å –ø–æ–º–æ–≥–∞–µ—Ç..."
   - **–ë—ã–ª–æ**: –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç  
   - **–°—Ç–∞–ª–æ**: "–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–∑—ã–≤: —ç—Ç–æ—Ç –ø—Ä–µ–ø–∞—Ä–∞—Ç"

3. **–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã**: "–£ –º–µ–Ω—è –Ω–∞—á–∞–ª–∞—Å—å –∞–ª–ª–µ—Ä–≥–∏—è –ø–æ—Å–ª–µ –ø—Ä–∏–µ–º–∞..."
   - **–ë—ã–ª–æ**: –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç
   - **–°—Ç–∞–ª–æ**: "–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã: –∞–ª–ª–µ—Ä–≥–∏—è –ø–æ—Å–ª–µ –ø—Ä–∏–µ–º–∞"

## üìä **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**

- ‚úÖ **–ö—Ä–∞—Ç–∫–æ—Å—Ç—å**: –¢–µ–º—ã —Ç–µ–ø–µ—Ä—å 15-80 —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ **–û—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å**: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–∏–ø–∞ –æ—Ç–∑—ã–≤–∞
- ‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å**: –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ç–µ–∫—Å—Ç–æ–º —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ—Å—Ç—å**: –¢–µ–º—ã –æ—Ç—Ä–∞–∂–∞—é—Ç —Å—É—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Å fallback

## üîÑ **–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã**

```
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π –∫–æ–ª–æ–Ω–∫–∏ "–¢–µ–º–∞"
   ‚Üì
2. –ü–æ–∏—Å–∫ —è–≤–Ω—ã—Ö —É–∫–∞–∑–∞–Ω–∏–π (–¢–µ–º–∞:, –ù–∞–∑–≤–∞–Ω–∏–µ:)
   ‚Üì
3. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–∏–ø–∞ –æ—Ç–∑—ã–≤–∞
   ‚Üì
4. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
   ‚Üì
5. –£–º–Ω—ã–π fallback (–ø–µ—Ä–≤—ã–µ —Å–ª–æ–≤–∞)
   ‚Üì
6. –†–µ–∑–µ—Ä–≤: "–ë–µ–∑ —Ç–µ–º—ã"
```

## ‚úÖ **–°—Ç–∞—Ç—É—Å**

- ‚úÖ –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –õ–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–º—ã —É–ª—É—á—à–µ–Ω–∞
- ‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ
- ‚úÖ –ö–æ–º–º–∏—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ GitHub

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üöÄ